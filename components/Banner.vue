<template>
  <section class="slider">
    <no-ssr>
      <agile>
        <div v-for="(slide,i) in slides" :key="i" class="slide">
          <div class="imgwrap isDesktop" :style="{backgroundImage: `url(${slide.img.desktop})`}">
            <div class="contentwrap"></div>
          </div>
          <div class="indicate">
            <div class="indicate__wrap columns">
              <div class="item column active">
                <div class="number-container"><svg class="number" width="77px" height="46px" viewBox="0 0 77 46" version="1.1" xmlns="http://www.w3.org/2000/svg"><g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><g fill="#DDDDDD"><path d="M76,0 L77,0 L77,46 L65,46 L65,10 L58,10 L58,0 L76,0 Z" id="1"></path><path d="M43.4462711,33.5467761 L33.9500264,24.0505314 C34.2508461,20.896418 33.1935622,17.637213 30.7781746,15.2218254 C26.4824074,10.9260582 19.5175926,10.9260582 15.2218254,15.2218254 C10.9260582,19.5175926 10.9260582,26.4824074 15.2218254,30.7781746 C17.288752,32.8451012 19.9735882,33.9175173 22.6817144,33.9954229 L32.5958065,43.909515 C24.1047332,47.8049616 13.7293633,46.2562753 6.73654403,39.263456 C-2.24551468,30.2813973 -2.24551468,15.7186027 6.73654403,6.73654403 C15.7186027,-2.24551468 30.2813973,-2.24551468 39.263456,6.73654403 C46.51961,13.992698 47.9138817,24.8909588 43.4462711,33.5467761 Z M41.8467991,36.1899448 C41.2753296,37.0044647 40.6448857,37.7902137 39.9554672,38.5412536 L31.4535726,30.039359 C32.1287771,29.2304103 32.6697049,28.3472911 33.076356,27.4195018 L41.8467991,36.1899448 Z M35.3425423,42.4136101 L26.3945232,33.4655911 C27.3894367,33.1437804 28.3475721,32.6766286 29.2357087,32.0641358 L37.7886071,40.6170343 C37.0048428,41.276483 36.1874265,41.8753416 35.3425423,42.4136101 Z" id="0" fill-rule="nonzero"></path></g></g></svg></div>
                <h3 class="has-text-centered">技术研发 产品集成</h3>
              </div>
              <div class="item column">
                <div class="number-container"><svg class="number" width="90px" height="46px" viewBox="0 0 90 46" version="1.1" xmlns="http://www.w3.org/2000/svg"><g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><g fill="#DDDDDD"><path d="M77.0178705,18.4012029 C77.3959827,17.6260948 77.6082073,16.7548823 77.6082073,15.8339989 C77.6082073,15.1673974 77.4970036,14.526823 77.2921721,13.9298879 C77.2537586,13.7825373 77.2096354,13.6362268 77.1598023,13.4909561 C76.9423383,12.8570166 76.6161471,12.2924228 76.1812191,11.7971576 C75.7462911,11.3018924 75.0479768,10.875969 74.6095552,10.6085271 C74.1711336,10.3410853 73.0055879,9.98089421 71.7672607,9.98089421 C68.5413951,9.98089421 65.9263142,12.6014184 65.9263142,15.8339989 C65.9263142,16.4028943 66.0073079,16.9528332 66.1583706,17.4728682 L54.8896211,17.4728682 C54.8896211,14.8578681 55.314658,12.4806309 56.1647446,10.3410853 C57.0148313,8.20153969 58.2108654,6.35918085 59.752883,4.81395349 C61.2949006,3.26872612 63.1235479,2.08010752 65.2388797,1.24806202 C67.3542116,0.416016512 69.6770878,0 72.2075783,0 C74.6985298,0 77.0016369,0.396206202 79.1169687,1.18863049 C81.2323005,1.98105478 83.0609478,3.09043214 84.6029654,4.51679587 C86.144983,5.94315959 87.3509017,7.6369411 88.2207578,9.59819121 C89.0906139,11.5594413 89.5255354,13.6890497 89.5255354,15.9870801 C89.5255354,18.4435954 89.0016527,20.7118759 87.9538715,22.7919897 C86.9060903,24.8721034 85.2355963,27.0017118 82.9423394,29.1808786 L76.4274375,36.1343669 L90,36.1343669 L90,46 L54,46 L65.0906096,34.4702842 C68.0164891,31.4194507 70.3097116,28.8342053 71.970346,26.7144703 C73.6309803,24.5947353 74.8665528,22.8019022 75.6771005,21.3359173 C76.3120866,20.1874593 76.7590075,19.2092268 77.0178705,18.4012029 Z" id="Combined-Shape"></path><path d="M43.4462711,33.5467761 L33.9500264,24.0505314 C34.2508461,20.896418 33.1935622,17.637213 30.7781746,15.2218254 C26.4824074,10.9260582 19.5175926,10.9260582 15.2218254,15.2218254 C10.9260582,19.5175926 10.9260582,26.4824074 15.2218254,30.7781746 C17.288752,32.8451012 19.9735882,33.9175173 22.6817144,33.9954229 L32.5958065,43.909515 C24.1047332,47.8049616 13.7293633,46.2562753 6.73654403,39.263456 C-2.24551468,30.2813973 -2.24551468,15.7186027 6.73654403,6.73654403 C15.7186027,-2.24551468 30.2813973,-2.24551468 39.263456,6.73654403 C46.51961,13.992698 47.9138817,24.8909588 43.4462711,33.5467761 Z M41.8467991,36.1899448 C41.2753296,37.0044647 40.6448857,37.7902137 39.9554672,38.5412536 L31.4535726,30.039359 C32.1287771,29.2304103 32.6697049,28.3472911 33.076356,27.4195018 L41.8467991,36.1899448 Z M35.3425423,42.4136101 L26.3945232,33.4655911 C27.3894367,33.1437804 28.3475721,32.6766286 29.2357087,32.0641358 L37.7886071,40.6170343 C37.0048428,41.276483 36.1874265,41.8753416 35.3425423,42.4136101 Z" id="0" fill-rule="nonzero"></path></g></g></svg></div>
                <h3 class="has-text-centered">客制化解决方案</h3>
              </div>
              <div class="item column">
                <div class="number-container"><svg class="number" width="89px" height="46px" viewBox="0 0 89 46" version="1.1" xmlns="http://www.w3.org/2000/svg"><g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><g fill="#DDDDDD"><path d="M43.4462711,33.5467761 L33.9500264,24.0505314 C34.2508461,20.896418 33.1935622,17.637213 30.7781746,15.2218254 C26.4824074,10.9260582 19.5175926,10.9260582 15.2218254,15.2218254 C10.9260582,19.5175926 10.9260582,26.4824074 15.2218254,30.7781746 C17.288752,32.8451012 19.9735882,33.9175173 22.6817144,33.9954229 L32.5958065,43.909515 C24.1047332,47.8049616 13.7293633,46.2562753 6.73654403,39.263456 C-2.24551468,30.2813973 -2.24551468,15.7186027 6.73654403,6.73654403 C15.7186027,-2.24551468 30.2813973,-2.24551468 39.263456,6.73654403 C46.51961,13.992698 47.9138817,24.8909588 43.4462711,33.5467761 Z M41.8467991,36.1899448 C41.2753296,37.0044647 40.6448857,37.7902137 39.9554672,38.5412536 L31.4535726,30.039359 C32.1287771,29.2304103 32.6697049,28.3472911 33.076356,27.4195018 L41.8467991,36.1899448 Z M35.3425423,42.4136101 L26.3945232,33.4655911 C27.3894367,33.1437804 28.3475721,32.6766286 29.2357087,32.0641358 L37.7886071,40.6170343 C37.0048428,41.276483 36.1874265,41.8753416 35.3425423,42.4136101 Z" id="0" fill-rule="nonzero"></path><path d="M69.5685619,18.2035176 C69.8807151,18.2420437 70.1440903,18.2613065 70.3586957,18.2613065 L70.9147157,18.2613065 C72.3584242,18.2613065 73.528981,17.8375252 74.4264214,16.9899497 C75.3238618,16.1423743 75.7725753,15.0443954 75.7725753,13.6959799 C75.7725753,12.3860906 75.3531257,11.3266372 74.514214,10.5175879 C73.6753024,9.70853867 72.5925373,9.3040201 71.2658863,9.3040201 C69.861197,9.3040201 68.7296587,9.76632704 67.8712375,10.6909548 C67.0128162,11.6155825 66.583612,12.8098754 66.583612,14.2738693 L55.9899666,14.2738693 C56.2631006,12.0008262 56.8386244,9.97823332 57.7165552,8.20603015 C58.594486,6.43382698 59.7162696,4.94096084 61.0819398,3.72738693 C62.4476099,2.51381303 64.047371,1.58919916 65.8812709,0.953517588 C67.7151708,0.317836018 69.744136,-2.27373675e-13 71.9682274,-2.27373675e-13 C74.1532997,-2.27373675e-13 76.1334917,0.298573229 77.9088629,0.895728643 C79.6842341,1.49288406 81.205958,2.34044677 82.4740803,3.43844221 C83.7422026,4.53643765 84.7176666,5.86557009 85.4005017,7.4258794 C86.0833367,8.98618871 86.4247492,10.7294711 86.4247492,12.6557789 C86.4247492,14.7361913 86.0248089,16.4409481 85.2249164,17.7701005 C84.4250239,19.0992529 83.2837309,20.2453888 81.8010033,21.2085427 C84.0641139,21.9020135 85.8297038,23.1444634 87.0978261,24.9359296 C88.3659484,26.7273959 89,28.9329852 89,31.5527638 C89,33.7102285 88.5707958,35.675033 87.7123746,37.4472362 C86.8539533,39.2194393 85.6541326,40.7411997 84.1128763,42.0125628 C82.5716199,43.283926 80.7377475,44.2663282 78.611204,44.959799 C76.4846605,45.6532698 74.1533014,46 71.6170569,46 C68.2223911,46 65.1594339,45.3450652 62.4280936,44.0351759 C59.6967533,42.7252866 57.5117139,40.6449054 55.8729097,37.7939698 C55.1315459,36.5226067 54.6340592,35.2512626 54.3804348,33.9798995 C54.1268103,32.7085364 54,31.4179295 54,30.1080402 L65.3545151,30.1080402 C65.4325533,32.1499265 66.0373411,33.700581 67.1688963,34.7600503 C68.3004516,35.8195195 69.8221755,36.3492462 71.7341137,36.3492462 C73.7631094,36.3492462 75.2458147,35.8098881 76.1822742,34.7311558 C77.1187338,33.6524234 77.5869565,32.323291 77.5869565,30.7437186 C77.5869565,28.855937 77.0211874,27.4304906 75.8896321,26.4673367 C74.7580768,25.5041828 73.4119365,25.0226131 71.8511706,25.0226131 C71.4609791,25.0226131 71.0903028,25.0515072 70.7391304,25.1092965 C70.3879581,25.1670857 69.9977725,25.2345055 69.5685619,25.3115578 L69.5685619,18.2035176 Z" id="3"></path></g></g></svg></div>
                <h3 class="has-text-centered">OOMI智能家居系统</h3>
              </div>
              <div class="item column">
                <div class="number-container"><svg class="number" width="89px" height="46px" viewBox="0 0 89 46" version="1.1" xmlns="http://www.w3.org/2000/svg"><g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><g fill="#DDDDDD"><path d="M43.4462711,33.5467761 L33.9500264,24.0505314 C34.2508461,20.896418 33.1935622,17.637213 30.7781746,15.2218254 C26.4824074,10.9260582 19.5175926,10.9260582 15.2218254,15.2218254 C10.9260582,19.5175926 10.9260582,26.4824074 15.2218254,30.7781746 C17.288752,32.8451012 19.9735882,33.9175173 22.6817144,33.9954229 L32.5958065,43.909515 C24.1047332,47.8049616 13.7293633,46.2562753 6.73654403,39.263456 C-2.24551468,30.2813973 -2.24551468,15.7186027 6.73654403,6.73654403 C15.7186027,-2.24551468 30.2813973,-2.24551468 39.263456,6.73654403 C46.51961,13.992698 47.9138817,24.8909588 43.4462711,33.5467761 Z M41.8467991,36.1899448 C41.2753296,37.0044647 40.6448857,37.7902137 39.9554672,38.5412536 L31.4535726,30.039359 C32.1287771,29.2304103 32.6697049,28.3472911 33.076356,27.4195018 L41.8467991,36.1899448 Z M35.3425423,42.4136101 L26.3945232,33.4655911 C27.3894367,33.1437804 28.3475721,32.6766286 29.2357087,32.0641358 L37.7886071,40.6170343 C37.0048428,41.276483 36.1874265,41.8753416 35.3425423,42.4136101 Z" id="0" fill-rule="nonzero"></path><path d="M69.5685619,18.2035176 C69.8807151,18.2420437 70.1440903,18.2613065 70.3586957,18.2613065 L70.9147157,18.2613065 C72.3584242,18.2613065 73.528981,17.8375252 74.4264214,16.9899497 C75.3238618,16.1423743 75.7725753,15.0443954 75.7725753,13.6959799 C75.7725753,12.3860906 75.3531257,11.3266372 74.514214,10.5175879 C73.6753024,9.70853867 72.5925373,9.3040201 71.2658863,9.3040201 C69.861197,9.3040201 68.7296587,9.76632704 67.8712375,10.6909548 C67.0128162,11.6155825 66.583612,12.8098754 66.583612,14.2738693 L55.9899666,14.2738693 C56.2631006,12.0008262 56.8386244,9.97823332 57.7165552,8.20603015 C58.594486,6.43382698 59.7162696,4.94096084 61.0819398,3.72738693 C62.4476099,2.51381303 64.047371,1.58919916 65.8812709,0.953517588 C67.7151708,0.317836018 69.744136,-2.27373675e-13 71.9682274,-2.27373675e-13 C74.1532997,-2.27373675e-13 76.1334917,0.298573229 77.9088629,0.895728643 C79.6842341,1.49288406 81.205958,2.34044677 82.4740803,3.43844221 C83.7422026,4.53643765 84.7176666,5.86557009 85.4005017,7.4258794 C86.0833367,8.98618871 86.4247492,10.7294711 86.4247492,12.6557789 C86.4247492,14.7361913 86.0248089,16.4409481 85.2249164,17.7701005 C84.4250239,19.0992529 83.2837309,20.2453888 81.8010033,21.2085427 C84.0641139,21.9020135 85.8297038,23.1444634 87.0978261,24.9359296 C88.3659484,26.7273959 89,28.9329852 89,31.5527638 C89,33.7102285 88.5707958,35.675033 87.7123746,37.4472362 C86.8539533,39.2194393 85.6541326,40.7411997 84.1128763,42.0125628 C82.5716199,43.283926 80.7377475,44.2663282 78.611204,44.959799 C76.4846605,45.6532698 74.1533014,46 71.6170569,46 C68.2223911,46 65.1594339,45.3450652 62.4280936,44.0351759 C59.6967533,42.7252866 57.5117139,40.6449054 55.8729097,37.7939698 C55.1315459,36.5226067 54.6340592,35.2512626 54.3804348,33.9798995 C54.1268103,32.7085364 54,31.4179295 54,30.1080402 L65.3545151,30.1080402 C65.4325533,32.1499265 66.0373411,33.700581 67.1688963,34.7600503 C68.3004516,35.8195195 69.8221755,36.3492462 71.7341137,36.3492462 C73.7631094,36.3492462 75.2458147,35.8098881 76.1822742,34.7311558 C77.1187338,33.6524234 77.5869565,32.323291 77.5869565,30.7437186 C77.5869565,28.855937 77.0211874,27.4304906 75.8896321,26.4673367 C74.7580768,25.5041828 73.4119365,25.0226131 71.8511706,25.0226131 C71.4609791,25.0226131 71.0903028,25.0515072 70.7391304,25.1092965 C70.3879581,25.1670857 69.9977725,25.2345055 69.5685619,25.3115578 L69.5685619,18.2035176 Z" id="3"></path></g></g></svg></div>
                <h3 class="has-text-centered">最新动态</h3>
              </div>
            </div>
          </div>
        </div>
      </agile>
    </no-ssr>
  </section>
</template>

<script>
import agile from '~/components/Agile.vue'
export default {
  components: {
    agile
  },
  data() {
    return {
      slides: [
        {
          img: {
            desktop: `${this.$store.state.cdn}/fantem/banner4.jpg`
          },
          title: '技术研发 产品集成',
          link: '/'
        },
        {
          img: {
            desktop: `${this.$store.state.cdn}/fantem/banner2.png`
          },
          title: '客制化解决方案',
          link: '/'
        },
        {
          img: {
            desktop: `${this.$store.state.cdn}/fantem/banner3.png`
          },
          title: 'OOMI智能家居系统',
          link: '/'
        },
        {
          img: {
            desktop: `${this.$store.state.cdn}/fantem/banner1.png`
          },
          title: '最新动态',
          link: '/'
        }
      ]
    }
  }
}
</script>

<style lang="stylus">
$height = 700px;

.slider {
  position: relative;
  z-index: 1;
  width: 100%;
  min-height: 32rem;
  height: $height;

  @media (max-width: 600px) {
    height: 32rem;
  }

  .no-ssr-placeholder {
    &:before {
      position: absolute;
      content: '';
      width: 100%;
      height: 100%;
      z-index: 99;
    }

    &:after {
      position: absolute;
      content: '';
      width: 138px;
      height: 135px;
      z-index: 999;
      top: 50%;
      left: 50%;
      margin-top: -(@height / 2);
      margin-left: -(@width / 2);
      background-image: url('~/static/icon.svg');
      animation: rotateloading 700ms infinite ease-in-out;

      @keyframes rotateloading {
        0% {
          transform: rotate(0deg);
        }

        10% {
          transform: rotate(36deg);
        }

        20% {
          transform: rotate(72deg);
        }

        30% {
          transform: rotate(108deg);
        }

        40% {
          transform: rotate(144deg);
        }

        50% {
          transform: rotate(180deg);
        }

        60% {
          transform: rotate(216deg);
        }

        70% {
          transform: rotate(252deg);
        }

        80% {
          transform: rotate(288deg);
        }

        90% {
          transform: rotate(324deg);
        }

        100% {
          transform: rotate(360deg);
        }
      }
    }
  }

  .agile {
    .imgwrap {
      min-height: 32rem;
      height: $height;
      position: relative;
      background-size: cover;
      background-position: 50%;

      @media (max-width: 600px) {
        height: 32rem;
      }

      .contentwrap {
        text-align: center;

        @media (max-width: 600px) {
          .title {
            padding-top: 35%;

            span {
              font-size: 30px !important;
            }

            p {
              span {
                span {
                  strong {
                    font-size: 36px;
                  }
                }
              }
            }
          }
        }
      }

      figure {
        width: 80%;
        height: 580px;
        margin: 0 auto;

        @media (max-width: 600px) {
          width: @width * 0.5;
          height: @height * 0.5;
        }
      }
    }

    .indicate {
      position: relative;
      background: #f0f4f5;
      height: 90px;

      &__wrap {
        position: absolute;
        margin: -64px auto 0px;
        width: 1104px;
        left: 50%;
        bottom: 11px;
        margin-left: -(0.5 * @width);
        background: rgb(255, 255, 255) none repeat scroll 0% 0%;
        z-index: 1;

        .item {
          position: relative;
          padding: 43px;

          .number-container {
            position: relative;
            height: 27px;
            font-size: 0px;
          }

          .number {
            position: absolute;
            left: 50%;
            transform: translateX(-50%) translateY(0px);
            transition: all 0.3s linear 0s;

            path {
              transition: all 0.3s linear 0s;
            }
          }

          h3 {
            position: relative;
            margin: 0px;
            padding-top: 4px;
            font-size: 20px;
            font-weight: bold;
            color: #3e3a39;
            background: rgb(255, 255, 255) none repeat scroll 0% 0%;
            z-index: 1;
          }

          &.active .number {
            transform: translateX(-50%) translateY(-23px);

            path {
              fill: rgb(234, 67, 53);
            }
          }
        }
      }
    }
  }
}
</style>
